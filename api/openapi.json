{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/ping":{"get":{"tags":["Supervision"],"summary":"Ping","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/install":{"post":{"tags":["Installation"],"summary":"Install TeamLock instance","description":"Define Configuration and initialize Admin User","operationId":"install_install_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_install_install_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Install Install Post","type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/token":{"post":{"tags":["Authentication"],"summary":"Authenticate for Access Token","operationId":"login_for_access_token_api_v1_auth_token_post","parameters":[{"required":false,"schema":{"title":"X-Teamlock-Key","type":"string"},"name":"x-teamlock-key","in":"header"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Login For Access Token Api V1 Auth Token Post","anyOf":[{"$ref":"#/components/schemas/Login"},{"type":"object"}]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/otp":{"post":{"tags":["Authentication"],"summary":"Validate OTP","operationId":"auth_validate_otp_api_v1_auth_otp_post","parameters":[{"required":false,"schema":{"title":"Remember","type":"boolean","default":false},"name":"remember","in":"query"},{"required":false,"schema":{"title":"X-Token","type":"string"},"name":"x-token","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Otp","type":"integer"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify":{"get":{"tags":["Authentication"],"summary":"Token verify","description":"Endpoint to check if JWT Token is still valid","operationId":"verify_api_v1_auth_verify_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get user profile","operationId":"get_me_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSchema"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register a new user","operationId":"register_user_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/recover":{"post":{"tags":["Authentication"],"summary":"Recover account","operationId":"recover_user_api_v1_auth_recover_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_recover_user_api_v1_auth_recover_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/":{"get":{"tags":["User"],"summary":"Get users","operationId":"get_users_api_v1_user__get","parameters":[{"required":false,"schema":{"title":"Search","type":"string","default":""},"name":"search","in":"query"},{"required":false,"schema":{"title":"Sort","type":"string"},"name":"sort","in":"query"},{"required":false,"schema":{"title":"Page","type":"integer","default":1},"name":"page","in":"query"},{"required":false,"schema":{"title":"Per Page","type":"integer","default":10},"name":"per_page","in":"query"},{"required":false,"schema":{"title":"Adminusers","type":"boolean","default":false},"name":"adminUsers","in":"query"},{"required":false,"schema":{"title":"Lockedusers","type":"boolean","default":false},"name":"lockedUsers","in":"query"},{"required":false,"schema":{"title":"Notconfiguredusers","type":"boolean","default":false},"name":"notConfiguredUsers","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTableSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/configured":{"get":{"tags":["User"],"summary":"Get list of configured users","description":"Return all users who has no rights on a specific workspace","operationId":"get_configured_users_api_v1_user_configured_get","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Configured Users Api V1 User Configured Get","type":"array","items":{"$ref":"#/components/schemas/ConfiguredUsers"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/sessions":{"get":{"tags":["User"],"summary":"Get sessions of an User","operationId":"get_sessions_api_v1_user_sessions_get","parameters":[{"required":false,"schema":{"title":"Search","type":"string","default":""},"name":"search","in":"query"},{"required":false,"schema":{"title":"Sort","type":"string"},"name":"sort","in":"query"},{"required":false,"schema":{"title":"Page","type":"integer","default":1},"name":"page","in":"query"},{"required":false,"schema":{"title":"Per Page","type":"integer","default":10},"name":"per_page","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSessionTableSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user":{"put":{"tags":["User"],"summary":"Edit an user","operationId":"update_user_api_v1_user_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["User"],"summary":"Endpoint to create an user","operationId":"create_user_api_v1_user_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditUserSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/bulk":{"post":{"tags":["User"],"summary":"Create several users","operationId":"bulk_create_user_api_v1_user_bulk_post","requestBody":{"content":{"application/json":{"schema":{"title":"Users Def","type":"array","items":{"$ref":"#/components/schemas/EditUserSchema"}}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/{user_id}":{"put":{"tags":["User"],"summary":"Change Admin status","operationId":"change_admin_status_api_v1_user__user_id__put","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdminUserSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["User"],"summary":"Delete an user","description":"Delete all personal workspaces and delete the user","operationId":"delete_user_api_v1_user__user_id__delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/recover/{user_id}":{"post":{"tags":["User"],"summary":"Enable recovery mode for an user","operationId":"enable_recovery_mode_api_v1_user_recover__user_id__post","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/lock/{user_id}":{"post":{"tags":["User"],"summary":"Lock/Unlock an user","operationId":"lock_unlock_user_api_v1_user_lock__user_id__post","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LockUserSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/configure/{user_id}":{"get":{"tags":["User"],"summary":"Check if user exists","operationId":"check_user_api_v1_user_configure__user_id__get","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotConfigureUserSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["User"],"summary":"Endpoint to configure an user","description":"Configure an user. Set up internal password and generate Public & Private RSA Keys","operationId":"configure_user_api_v1_user_configure__user_id__post","parameters":[{"required":true,"schema":{"title":"User Id","type":"string"},"name":"user_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigureUserSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/recovery":{"get":{"tags":["User"],"summary":"Generate Recovery Key","description":"Generate a file that can be used to recover an account when password is lost","operationId":"generate_recovery_key_api_v1_user_recovery_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/totp/enable":{"get":{"tags":["User"],"summary":"Enable TOTP","description":"Enable TOTP for current user","operationId":"enable_totp_api_v1_user_totp_enable_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/totp/validate":{"post":{"tags":["User"],"summary":"Validate TOTP","description":"Validate TOTP for current user. Only used once after OTP is enabled.\nTOTP will not be enabled while this endpoint is correctly called","operationId":"validate_totp_api_v1_user_totp_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateOTPSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/totp/disable":{"post":{"tags":["User"],"summary":"Disable TOTP","operationId":"disable_totp_api_v1_user_totp_disable_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateOTPSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user/favorite":{"post":{"tags":["User"],"summary":"Change favorite workspace","operationId":"change_favorite_api_v1_user_favorite_post","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"query"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/config/":{"get":{"tags":["Configuration"],"summary":"Retreive Teamlock Configuration","operationId":"get_config_api_v1_config__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigSchema"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Configuration"],"summary":"Update Teamlock Configuration","operationId":"edit_config_api_v1_config__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/config/policy":{"get":{"tags":["Configuration"],"summary":"Retreive password policy for user's password","operationId":"get_password_policy_api_v1_config_policy_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordPolicySchema"}}}}}}},"/api/v1/workspace/":{"get":{"tags":["Workspace"],"summary":"Fetch list of workspaces","operationId":"get_workspaces_api_v1_workspace__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Workspaces Api V1 Workspace  Get","type":"array","items":{"$ref":"#/components/schemas/SharedWorkspaceSchema"}}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Workspace"],"summary":"Create a workspace","operationId":"create_workspace_api_v1_workspace__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditWorkspaceSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/workspace/{workspace_id}":{"get":{"tags":["Workspace"],"summary":"Fetch a workspace","operationId":"get_workspace_api_v1_workspace__workspace_id__get","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SharedWorkspaceSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Workspace"],"summary":"Edit a workspace","operationId":"edit_workspace_api_v1_workspace__workspace_id__put","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditWorkspaceSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Workspace"],"summary":"Delete a workspace","operationId":"delete_workspace_api_v1_workspace__workspace_id__delete","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/workspace/{workspace_id}/share":{"get":{"tags":["Workspace"],"summary":"Return list of users who has access to the workspace","operationId":"get_user_workspace_api_v1_workspace__workspace_id__share_get","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get User Workspace Api V1 Workspace  Workspace Id  Share Get","type":"array","items":{"$ref":"#/components/schemas/UsersWorkspace"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Workspace"],"summary":"Share a workspace to new user","description":"This endpoint will share an existing Workspace to an other user\nOnly an user with the correct rights will be able to add an user.\n","operationId":"share_workspace_api_v1_workspace__workspace_id__share_post","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditShareSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/workspace/{workspace_id}/share/{share_id}":{"delete":{"tags":["Workspace"],"summary":"Remove an user from a workspace","operationId":"delete_share_api_v1_workspace__workspace_id__share__share_id__delete","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"},{"required":true,"schema":{"title":"Share Id","type":"string"},"name":"share_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/workspace/{workspace_id}/import":{"post":{"tags":["Workspace"],"summary":"Import File","description":"Fill Workspace data with a XML KeePass File or a TeamLock v1 Backup File","operationId":"import_keepass_file_api_v1_workspace__workspace_id__import_post","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_keepass_file_api_v1_workspace__workspace_id__import_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/workspace/{workspace_id}/folders":{"get":{"tags":["Workspace"],"summary":"Get all folders in a workspace","operationId":"get_workspace_folders_api_v1_workspace__workspace_id__folders_get","parameters":[{"required":true,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Workspace Folders Api V1 Workspace  Workspace Id  Folders Get","type":"array","items":{"$ref":"#/components/schemas/FolderSchema"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/folder/{folder_id}":{"get":{"tags":["Folder"],"summary":"Get a folder","operationId":"get_folder_api_v1_folder__folder_id__get","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FolderSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Folder"],"summary":"Update a folder","operationId":"update_folder_api_v1_folder__folder_id__put","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditFolderSchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Folder"],"summary":"Delete a folder","operationId":"delete_folder_api_v1_folder__folder_id__delete","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/folder/":{"post":{"tags":["Folder"],"summary":"Create a folder in a workspace","operationId":"create_folder_api_v1_folder__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditFolderSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/folder/{folder_id}/copy":{"post":{"tags":["Folder"],"summary":"Copy a folder to another Workspace","operationId":"copy_folder_api_v1_folder__folder_id__copy_post","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"title":"To Workspace Id","type":"string"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/folder/{folder_id}/keys":{"get":{"tags":["Folder"],"summary":"Get all keys in folder","operationId":"get_keys_api_v1_folder__folder_id__keys_get","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Keys Api V1 Folder  Folder Id  Keys Get","type":"array","items":{"$ref":"#/components/schemas/KeySchema"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/key/generate":{"get":{"tags":["Key"],"summary":"Generate a password","operationId":"generate_password_api_v1_key_generate_get","parameters":[{"required":true,"schema":{"title":"Folder Id","type":"string"},"name":"folder_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Generate Password Api V1 Key Generate Get","type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/key/search":{"get":{"tags":["Key"],"summary":"Search Keys","operationId":"search_keys_api_v1_key_search_get","parameters":[{"required":true,"schema":{"title":"Search","type":"string"},"name":"search","in":"query"},{"required":true,"schema":{"title":"Workspace","type":"string"},"name":"workspace","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Search Keys Api V1 Key Search Get","type":"array","items":{"$ref":"#/components/schemas/KeySchema"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/key/{key_id}":{"get":{"tags":["Key"],"summary":"Retreive password for a key","operationId":"get_key_api_v1_key__key_id__get","parameters":[{"required":true,"schema":{"title":"Key Id","type":"string"},"name":"key_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeySchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Key"],"summary":"Edit a key","operationId":"update_key_api_v1_key__key_id__put","parameters":[{"required":true,"schema":{"title":"Key Id","type":"string"},"name":"key_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateKeySchema"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Key"],"summary":"Delete a key","operationId":"delete_key_api_v1_key__key_id__delete","parameters":[{"required":true,"schema":{"title":"Key Id","type":"string"},"name":"key_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/key/":{"post":{"tags":["Key"],"summary":"Create a key","operationId":"create_key_api_v1_key__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateKeySchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/key/{key_id}/move":{"post":{"tags":["Key"],"summary":"Move key to an other folder","operationId":"move_key_api_v1_key__key_id__move_post","parameters":[{"required":true,"schema":{"title":"Key Id","type":"string"},"name":"key_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Folder Id","type":"string"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/history/":{"post":{"tags":["History"],"summary":"Get history","operationId":"get_history_api_v1_history__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryPaginationParamsSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryTableSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AdminUserSchema":{"title":"AdminUserSchema","required":["email"],"type":"object","properties":{"email":{"title":"Email","type":"string"}}},"Body_import_keepass_file_api_v1_workspace__workspace_id__import_post":{"title":"Body_import_keepass_file_api_v1_workspace__workspace_id__import_post","required":["encrypt_name","encrypt_url","encrypt_login","encrypt_password","encrypt_informations","import_type","file"],"type":"object","properties":{"encrypt_name":{"title":"Encrypt Name","type":"boolean"},"encrypt_url":{"title":"Encrypt Url","type":"boolean"},"encrypt_login":{"title":"Encrypt Login","type":"boolean"},"encrypt_password":{"title":"Encrypt Password","type":"boolean"},"encrypt_informations":{"title":"Encrypt Informations","type":"boolean"},"import_type":{"title":"Import Type","type":"string"},"file":{"title":"File","type":"string","format":"binary"}}},"Body_install_install_post":{"title":"Body_install_install_post","required":["config_schema","admin"],"type":"object","properties":{"config_schema":{"$ref":"#/components/schemas/ConfigSchema"},"admin":{"$ref":"#/components/schemas/AdminUserSchema"}}},"Body_login_for_access_token_api_v1_auth_token_post":{"title":"Body_login_for_access_token_api_v1_auth_token_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"Body_recover_user_api_v1_auth_recover_post":{"title":"Body_recover_user_api_v1_auth_recover_post","required":["email","new_password","confirm_password","recover_file"],"type":"object","properties":{"email":{"title":"Email","type":"string"},"new_password":{"title":"New Password","type":"string"},"confirm_password":{"title":"Confirm Password","type":"string"},"recover_file":{"title":"Recover File","type":"string","format":"binary"}}},"ConfigSchema":{"title":"ConfigSchema","required":["version"],"type":"object","properties":{"version":{"title":"Version","type":"number"},"rsa_key_size":{"title":"Rsa Key Size","type":"integer","default":4096},"password_duration":{"title":"Password Duration","type":"integer","default":100},"enforce_totp":{"title":"Enforce Totp","type":"boolean","default":false},"password_policy":{"title":"Password Policy","allOf":[{"$ref":"#/components/schemas/PasswordPolicySchema"}],"default":{"length":12,"uppercase":1,"numbers":1,"special":1}},"allow_self_registration":{"title":"Allow Self Registration","type":"boolean","default":false},"allowed_email_addresses":{"title":"Allowed Email Addresses","type":"array","items":{"type":"string"},"default":[]}}},"ConfigureUserSchema":{"title":"ConfigureUserSchema","required":["password","confirm_password"],"type":"object","properties":{"password":{"title":"Password","type":"string"},"confirm_password":{"title":"Confirm Password","type":"string"},"otp_value":{"title":"Otp Value","type":"string","default":""}},"example":{"password":"Av€ryStr0ngP@5swOrd!","confirm_password":"Av€ryStr0ngP@5swOrd!","otp_value":""}},"ConfiguredUsers":{"title":"ConfiguredUsers","required":["email"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"email":{"title":"Email","type":"string"}}},"CreateKeySchema":{"title":"CreateKeySchema","type":"object","properties":{"name":{"title":"Name","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"url":{"title":"Url","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"ip":{"title":"Ip","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"login":{"title":"Login","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"password":{"title":"Password","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"informations":{"title":"Informations","allOf":[{"$ref":"#/components/schemas/KeyValueSchema"}],"default":{"encrypted":true,"value":""}},"folder":{"title":"Folder","type":"string"}}},"EditFolderSchema":{"title":"EditFolderSchema","required":["name","icon"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"icon":{"title":"Icon","type":"string"},"parent":{"title":"Parent","type":"string"},"workspace":{"title":"Workspace","type":"string"},"password_policy":{"$ref":"#/components/schemas/PasswordPolicySchema"}}},"EditShareSchema":{"title":"EditShareSchema","required":["users"],"type":"object","properties":{"expire_at":{"title":"Expire At","type":"string","format":"date"},"can_write":{"title":"Can Write","type":"boolean","default":false},"can_share":{"title":"Can Share","type":"boolean","default":false},"users":{"title":"Users","type":"array","items":{"type":"string"}}}},"EditUserSchema":{"title":"EditUserSchema","required":["email"],"type":"object","properties":{"email":{"title":"Email","type":"string"},"is_admin":{"title":"Is Admin","type":"boolean","default":false}}},"EditWorkspaceSchema":{"title":"EditWorkspaceSchema","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"icon":{"title":"Icon","type":"string"},"password_policy":{"$ref":"#/components/schemas/PasswordPolicySchema"}}},"FolderSchema":{"title":"FolderSchema","required":["name","icon","created_at"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"name":{"title":"Name","type":"string"},"icon":{"title":"Icon","type":"string"},"parent":{"title":"Parent","type":"string"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"created_by":{"title":"Created By","type":"string"},"password_policy":{"$ref":"#/components/schemas/PasswordPolicySchema"},"workspace":{"title":"Workspace","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"HistoryPaginationParamsSchema":{"title":"HistoryPaginationParamsSchema","required":["date_from","date_to","users","workspaces"],"type":"object","properties":{"search":{"title":"Search","type":"string","default":""},"sort":{"title":"Sort","type":"string"},"page":{"title":"Page","type":"integer","default":1},"per_page":{"title":"Per Page","type":"integer","default":10},"date_from":{"title":"Date From","type":"string","format":"date-time"},"date_to":{"title":"Date To","type":"string","format":"date-time"},"users":{"title":"Users","type":"array","items":{"type":"string"}},"workspaces":{"title":"Workspaces","type":"array","items":{"type":"string"}}}},"HistorySchema":{"title":"HistorySchema","required":["date","user","workspace","workspace_owner","action"],"type":"object","properties":{"date":{"title":"Date","type":"string","format":"date-time"},"user":{"title":"User","type":"string"},"workspace":{"title":"Workspace","type":"string"},"workspace_owner":{"title":"Workspace Owner","type":"string"},"action":{"title":"Action","type":"string"}}},"HistoryTableSchema":{"title":"HistoryTableSchema","required":["start","to","total","current_page","last_pages","data"],"type":"object","properties":{"start":{"title":"Start","type":"integer"},"to":{"title":"To","type":"integer"},"total":{"title":"Total","type":"integer"},"current_page":{"title":"Current Page","type":"integer"},"last_pages":{"title":"Last Pages","type":"integer"},"data":{"title":"Data","type":"array","items":{"$ref":"#/components/schemas/HistorySchema"}},"users":{"title":"Users","type":"array","items":{"type":"string"},"default":[]},"workspaces":{"title":"Workspaces","type":"array","items":{"type":"string"},"default":[]}}},"KeySchema":{"title":"KeySchema","required":["created_at","updated_at"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"name":{"$ref":"#/components/schemas/KeyValueSchema"},"url":{"$ref":"#/components/schemas/KeyValueSchema"},"ip":{"$ref":"#/components/schemas/KeyValueSchema"},"login":{"$ref":"#/components/schemas/KeyValueSchema"},"password":{"$ref":"#/components/schemas/KeyValueSchema"},"informations":{"$ref":"#/components/schemas/KeyValueSchema"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"},"folder":{"title":"Folder","type":"string"}}},"KeyValueSchema":{"title":"KeyValueSchema","type":"object","properties":{"encrypted":{"title":"Encrypted","type":"boolean","default":true},"value":{"title":"Value","type":"string","default":""}}},"LockUserSchema":{"title":"LockUserSchema","required":["is_locked"],"type":"object","properties":{"is_locked":{"title":"Is Locked","type":"boolean"}}},"Login":{"title":"Login","required":["access_token"],"type":"object","properties":{"token_type":{"title":"Token Type","type":"string","default":"bearer"},"access_token":{"title":"Access Token","type":"string"},"remember_key":{"title":"Remember Key","type":"string"}}},"NotConfigureUserSchema":{"title":"NotConfigureUserSchema","required":["email"],"type":"object","properties":{"email":{"title":"Email","type":"string"},"otp_image":{"title":"Otp Image","type":"string"}}},"OTPSchema":{"title":"OTPSchema","type":"object","properties":{"enabled":{"title":"Enabled","type":"boolean","default":false}}},"PasswordPolicySchema":{"title":"PasswordPolicySchema","type":"object","properties":{"length":{"title":"Length","type":"integer","default":12},"uppercase":{"title":"Uppercase","type":"integer","default":1},"numbers":{"title":"Numbers","type":"integer","default":1},"special":{"title":"Special","type":"integer","default":1}}},"RegistrationSchema":{"title":"RegistrationSchema","required":["email"],"type":"object","properties":{"email":{"title":"Email","type":"string"}}},"SharedWorkspaceSchema":{"title":"SharedWorkspaceSchema","required":["name","created_at","last_change"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"name":{"title":"Name","type":"string"},"icon":{"title":"Icon","type":"string"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"last_change":{"title":"Last Change","type":"string","format":"date-time"},"owner":{"title":"Owner","type":"string"},"password_policy":{"$ref":"#/components/schemas/PasswordPolicySchema"},"nb_folders":{"title":"Nb Folders","type":"integer"},"nb_keys":{"title":"Nb Keys","type":"integer"},"import_in_progress":{"title":"Import In Progress","type":"boolean","default":false},"shared":{"title":"Shared","type":"boolean","default":false},"can_write":{"title":"Can Write","type":"boolean","default":false},"can_share":{"title":"Can Share","type":"boolean","default":false}}},"UpdateAdminUserSchema":{"title":"UpdateAdminUserSchema","required":["is_admin"],"type":"object","properties":{"is_admin":{"title":"Is Admin","type":"boolean"}}},"UpdateUserSchema":{"title":"UpdateUserSchema","required":["current_password","new_password","confirm_password"],"type":"object","properties":{"current_password":{"title":"Current Password","type":"string"},"new_password":{"title":"New Password","type":"string"},"confirm_password":{"title":"Confirm Password","type":"string"}}},"UserSchema":{"title":"UserSchema","required":["email","last_change_pass"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"email":{"title":"Email","type":"string"},"last_seen":{"title":"Last Seen","type":"string","format":"date-time"},"otp":{"title":"Otp","allOf":[{"$ref":"#/components/schemas/OTPSchema"}],"default":{"enabled":false}},"last_change_pass":{"title":"Last Change Pass","type":"string","format":"date-time"},"favorite_workspace":{"title":"Favorite Workspace","type":"string"},"is_configured":{"title":"Is Configured","type":"boolean","default":false},"is_admin":{"title":"Is Admin","type":"boolean","default":false},"is_locked":{"title":"Is Locked","type":"boolean","default":false},"recovery_enabled":{"title":"Recovery Enabled","type":"boolean","default":false},"need_change_password":{"title":"Need Change Password","type":"boolean","default":false},"recovery_key_downloaded":{"title":"Recovery Key Downloaded","type":"boolean","default":false}}},"UserSessionSchema":{"title":"UserSessionSchema","required":["ip_address","date","os","user_agent"],"type":"object","properties":{"ip_address":{"title":"Ip Address","type":"string"},"date":{"title":"Date","type":"string","format":"date-time"},"os":{"title":"Os","type":"string"},"user_agent":{"title":"User Agent","type":"string"}}},"UserSessionTableSchema":{"title":"UserSessionTableSchema","required":["start","to","total","current_page","last_pages","data"],"type":"object","properties":{"start":{"title":"Start","type":"integer"},"to":{"title":"To","type":"integer"},"total":{"title":"Total","type":"integer"},"current_page":{"title":"Current Page","type":"integer"},"last_pages":{"title":"Last Pages","type":"integer"},"data":{"title":"Data","type":"array","items":{"$ref":"#/components/schemas/UserSessionSchema"}}}},"UserTableSchema":{"title":"UserTableSchema","required":["start","to","total","current_page","last_pages","data"],"type":"object","properties":{"start":{"title":"Start","type":"integer"},"to":{"title":"To","type":"integer"},"total":{"title":"Total","type":"integer"},"current_page":{"title":"Current Page","type":"integer"},"last_pages":{"title":"Last Pages","type":"integer"},"data":{"title":"Data","type":"array","items":{"$ref":"#/components/schemas/UserSchema"}},"total_not_configured_users":{"title":"Total Not Configured Users","type":"integer","default":0},"total_locked_users":{"title":"Total Locked Users","type":"integer","default":0},"total_admin_users":{"title":"Total Admin Users","type":"integer","default":0}}},"UsersWorkspace":{"title":"UsersWorkspace","required":["user","user_email","can_write","can_share"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"user":{"title":"User","type":"string"},"expire_at":{"title":"Expire At","type":"string","format":"date"},"user_email":{"title":"User Email","type":"string"},"can_write":{"title":"Can Write","type":"boolean"},"can_share":{"title":"Can Share","type":"boolean"}}},"ValidateOTPSchema":{"title":"ValidateOTPSchema","required":["totp_value"],"type":"object","properties":{"totp_value":{"title":"Totp Value","type":"integer"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/token"}}}}}}
